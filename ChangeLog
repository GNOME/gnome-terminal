2002-05-03  Havoc Pennington  <hp@redhat.com>

	* configure.in: 1.9.5

2002-05-02  Havoc Pennington  <hp@redhat.com>

	* src/simple-x-font-selector.c (egg_xfont_selector_init): fool
	around with packing options

	* src/terminal.c (main): add newline to error message about
	missing profile

	* src/terminal-screen.c (load_fonset_without_error): function to
	avoid error spew from gdk_fontset_load as we try the various
	fallback fonts.

	* src/gnome-terminal.glade2: change the option from "Use font from
	system theme" to "Use the same font as other applications"; 
	could probably still phrase this better.

	* src/terminal-screen.c (terminal_util_check_font_spacing): rename
	to font_is_monospace, don't use unportable strncasecmp(), use 
	same filter for monospace as the font selector
	(make_font_monospace): new function
	(terminal_screen_update_on_realize): rather than a hardcoded
	fallback, fall back to the font preference. But before 
	falling back, try to come up with a monospace font similar to the
	system font.

	* src/simple-x-font-selector.c (egg_xfont_selector_create_xlfd):
	remove debug spew

2002-04-25 Pasupathi Duraisamy <pasupathi.duraisamy@wipro.com>

        * Enabling the option to use system font.

        * src/profile-editor.c: add checkbox to use system font.

        * src/terminal-screen.c: wire up code to use system font.

2002-05-02 John Fleck <jfleck@inkstain.net>

	* help/C/gnome-terminal-C.omf
	* help/C/gnome-terminal.xml
	* help/C/legal.xml
	* help/C/figures/gnome-terminal-default.png
	* help/C/figures/gnome-terminal-tabbed.png
	* help/C/figures/terminal_window.png
	Adding Pat Costello's new docs

2002-05-02  Nalin Dahyabhai <nalin@redhat.com>

	* src/terminal-widget-vte.c: fix a spelling goof in a comment and
	hook up backspace/delete bindings.

2002-05-01  Havoc Pennington  <hp@redhat.com>

	* src/eggcellrendererkeys.c: sync new copy of eggcellrendererkeys
	that I just fixed for #76953. Should also mean you can now have
	bindings that use Mod2-Mod5. seems to be a drawing glitch with
	underscore still, though.

2002-05-01  Havoc Pennington  <hp@redhat.com>

	* src/terminal-window.c (new_tab_callback, new_window_callback):
	oops, I had broken new-with-profile callbacks. Fix them again
	to actually use the chosen profile.

2002-05-01  Havoc Pennington  <hp@redhat.com>

	* src/terminal-window.c (terminal_window_set_active): update the
	choose-current-profile submenu when we change the active term
	(fill_in_new_term_submenus): don't name the "new terminal" item
	"Default", it was confusing. Just name it after the profile to be
	used. Don't parse mnemonics on the profile name.
	(profile_set_callback): update the choose-profile-for-this-tab
	menu

	* src/terminal.c (sync_profile_list): when profile list changes, 
	have all the open windows reread the list.

	* src/terminal-window.c (terminal_window_reread_profile_list): new
	function to reload the profile list into the menus. #78904
	(terminal_window_init): don't set up callbacks to demand-create
	the profile list menus

2002-05-01  Havoc Pennington  <hp@redhat.com>

	* src/terminal-window.c (terminal_window_remove_screen): fix crash
	on closing terminal (don't try to set size on active term 
	if we just closed the last term)

2002-05-01  Havoc Pennington  <hp@redhat.com>

	* src/eggcellrendererkeys.c: sync up to libegg, but contains no 
	important fixes.

	* src/Makefile.am (regenerate-built-sources): give full path to
	update-from-egg.sh

2002-05-01  Havoc Pennington  <hp@redhat.com>

	* src/terminal-window.c (notebook_page_switched_callback):
	maintain the same grid as we switch between tabs, so at least
	going from tab A to B to A doesn't resize the terminal 
	in the end.
	(terminal_window_remove_screen): apply the grid from the screen 
	being removed to the newly-active screen, if the removed screen 
	was active; fixes #79829

2002-05-01  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (new_tab_callback): use default profile,
	not the profile from the current screen. part of #80166
	(new_window_callback): ditto

	* src/terminal-window.c (new_tab_callback): use the default
	profile, not the profile from the active terminal. part of #80166
	(new_window_callback): ditto

	* src/terminal.c (terminal_app_manage_profiles): have 
	option menu for setting default profile notice if the default
	profile changes. Initialize the profile menu to the current
	default. part of #80166

2002-05-01  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_set_size): don't use
	gtk_window_resize on unmapped windows, it broke --geometry.
	#80063

2002-05-01  Havoc Pennington  <hp@pobox.com>

	* src/terminal-accels.c: implement option for menu accels in the
	keybindings dialog. String/screenshot change. #76845

	* src/profterm.schemas: add an option to turn off the F10
	accelerator to get to the menubar.

2002-05-01  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: change next/prev tab default shortcuts 
	to control page up, page down

2002-04-30  Havoc Pennington  <hp@redhat.com>

	* src/terminal.c: make --use-factory a compat option, and switch
	to callback-based option parser going via libgnome. 
	Based on patch from Deepa Chacko Pillai.

2002-04-30  Nalin Dahyabhai  <nalin@redhat.com>

	* src/terminal-widget-vte.c: hook up set_word_chars, save pid from
	forking off a command, hook up feed_child, give a better estimate of
	how much memory a line of scrollback costs.
	
2002-04-30  Havoc Pennington  <hp@redhat.com>
	
	* src/terminal.c (strip_old_args): get rid of this function,
	instead put the old args in the popt table with
	POPT_ARGFLAG_DOC_HIDDEN.

2002-04-26  Anders Carlsson  <andersca@gnu.org>

	* Push a fix from eel into here.

2002-04-26  Changwoo Ryu  <cwryu@debian.org>

	* configure.in: Added "ko" to ALL_LINGUAS.

2002-04-26  Nalin Dahyabhai  <nalin@redhat.com>

	* src/terminal-intl.h: add missing #include of locale.h.
	* src/terminal-widget-vte.c: hook up set_scrollback_lines.

2002-04-25  Havoc Pennington  <hp@redhat.com>

	* src/Makefile.am (EXTRA_DIST): add terminal-widget-*.c since
	only one can be disted by the normal rules

2002-04-25  Havoc Pennington  <hp@redhat.com>

	* configure.in: 1.9.4

2002-04-25  Havoc Pennington  <hp@redhat.com>

	* src/terminal.c (main): call setlocale() early on, just in case.

2002-04-22  Havoc Pennington  <hp@redhat.com>

	* src/profile-editor.c: support choosing a pango font for terminal
	widget implementations that handle it

	* src/terminal-screen.c (terminal_screen_update_on_realize): set
	pango font

	* src/terminal-profile.c: add the pango font setting

	* src/profterm.schemas: add setting for Pango font name

	* src/terminal-widget-vte.c (terminal_widget_set_colors): use
	TERMINAL_PALETTE_SIZE instead of hardcoded "16" for the number of
	palette entries

2002-04-21  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_update_geometry): also 
	reset geometry hints if geometry widget changes. May have 
	something to do with #77529

2002-04-21  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_set_size): use
	gtk_widget_size_request not gtk_widget_get_child_requisition in
	case the widget's requisition field hasn't been updated (however
	since we set usize on the widget it shouldn't matter right, but
	just ensuring we're synced with old gnome-terminal)
	(terminal_window_set_size): update the geometry hints in here
	though they will often have been already updated, we want to be
	sure they're done. Fixes shrinkage when toggling menubar on and
	off.

2002-04-21  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (terminal_util_set_atk_name_description): remove
	warnings for case where we have NoOp object, this is normal.

	* src/gnome-terminal.glade2: remove some controller relationships 
	Pasupathi says were wrong

2002-04-21  Havoc Pennington  <hp@pobox.com>

	* Makefile.am (SUBDIRS): add help subdir

	* configure.in (CFLAGS): add help makefiles

	* src/terminal-window.c (help_callback): implement

	* help/C/Makefile.am: fixes from Satyajit Kanungo

	* help/xmldocs.make: copy from
	gnome-docu/gdp/gdp-example1/help/xmldocs.make

2002-04-21  Simos Xenitellis  <simos@hellug.gr>

	* configure.in: Added "el" to ALL_LINGUAS.

2002-04-20  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (widget_label_relation_set): 
	(set_atk_name_description): move to end of file, and rename 
	to have better names. Fix indentation (2 spaces not 8). 
	Remove extra spaces in "if ( foo )"
	(terminal_util_set_atk_name_description): add warnings about 
	widgets with no GtkAccessible, why does this happen?

	* src/gnome-terminal.glade2: add reasonable names instead of
	"labelXX" for all labels referenced in labelled-by

2002-04-19 Pasupathi Duraisamy <pasupathi.duraisamy@wipro.com>

        * src/terminal.c: added widget_label_relation_set() function to
	provide labelled_by relation between widgets and labels in "New
	profile" dialog and "Manage Profile" dialog. Also added
	set_atk_name_description() function to set accessible name and
	description to the widgets.

        * src/terminal.h: added function declaration to
	widget_label_relation_set() and set_atk_name_description().

        * src/gnome-terminal.glade2: Broken tooltips for color palette
	entries and accessibility features are added to the widgets.

        * src/simple-x-font-selector.c: Added atk relation and accessible
	description to Font option menu and size option menu in "Edit
	Profile" dialog.

        * src/terminal-screen.c: Added atk relation between the label and
	entry in "Set Terminal tile" dailog.

2002-04-20  Abel Cheung  <maddog@linux.org.hk>

	* help/.cvsignore, help/C/.cvsignore, omf-install/.cvsignore: New.
	* .cvsignore: Added file and sorted.

2002-04-17  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_init): implement 
	the New Tab / New Window UI so you can create tabs/windows
	with a particular profile.

	Has several known bugs I'm about to file, but I wanted to 
	get some basic stubbing-out of the UI.

2002-04-16  Havoc Pennington  <hp@pobox.com>

	* Makefile.am (EXTRA_DIST): add intltool stuff to EXTRA_DIST
	(why is this suddenly needed and not before?)

	* configure.in: 1.9.3, require gtk 2.0.2 and gconf 1.1.9

2002-04-16  Jacob Berkman  <jacob@ximian.com>

	* configure.in (ALL_LINGUAS): fix previous commit

2002-04-15  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" to ALL_LINGUAS.

2002-04-15  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c: as a heuristic, re-read working dir in a
	low-priority idle added when title is set. Should also 
	later use got_output signal on zvt or other signal to 
	catch working dir for people without magic shell prompts.

	* src/terminal.c (terminal_app_get_clone_command): save working
	dir in the session

	* src/terminal-screen.c (terminal_screen_get_working_dir): add
	linux-specific hack to keep track of child process's working 
	directory.

	* src/terminal-widget-zvt.c (terminal_widget_fork_command): 
	add arg for working directory, return arg for child pid
	(terminal_widget_write_data_to_child): fix compile warning

2002-04-15  Abigail Brady  <morwen@evilmagic.org>

	* configure.in: Added en_GB (British) translation.

2002-04-14  Havoc Pennington  <hp@pobox.com> 
	
        Options/infrastructure to use system colors/fonts, except
	fonts are kind of screwed still. 

	(Somewhat modified patch from pasupathi.duraisamy@wipro.com,
	bug #77295)
	
	* src/profile-editor.c: add checkbutton for use theme colors

	* src/terminal-screen.c (update_color_scheme): wire up 
	code to use theme colors when appropriate
	(terminal_screen_update_on_realize): use system font 
	when appropriate

	* src/terminal-profile.c: set up the theme colors and system 
	font settings

	* src/profterm.schemas: add use_theme_colors and use_system_font
	options

2002-04-14  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (drag_data_received): support x-moz-url
	target, which allows us to strip off file:/// from mozilla drops.

2002-04-14  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_setup_dnd): add
	drag-and-drop stuff, #76619

	* src/terminal-widget-zvt.c (terminal_widget_write_data_to_child):
	new function

2002-04-14  Havoc Pennington  <hp@pobox.com>

	* src/gnome-terminal.glade2: remove max_saved property that spewed
	warnings

	* src/terminal.c (terminal_invoke_factory): use g_printerr for
	errors
	(strip_old_args): strip out old args that are no longer supported,
	but warn about them. #76102
	(main): add --title option equivalent to Set Title menu item
	(main): scan for -x and --execute prior to gtk_init(), so you 
	can run something containing gtk args after -x
	(terminal_app_get_clone_command): save title and factory usage
	in the session
	(terminal_app_get_clone_command): do not shell quote the 
	command to be restored, because this argv is not going 
	to get shell-interpreted. (Titles and things would break 
	if it did.)

2002-04-11  Jacob Berkman  <jacob@ximian.com>

	* src/Makefile.am (EXTRA_DIST): add .server file

2002-04-11  Michael Meeks  <michael@ximian.com>

	* src/terminal.c (main): add disable_factory option
	and call terminal_init_factory.
	(terminal_invoke_factory): impl. to register and do
	remote creation if appropriate.
	(terminal_register_as_factory): impl.
	(terminal_new_event): impl.

	* src/gnome-terminal.server: add.

	* src/Makefile.am (serverdir): add
	gnome-terminal.server NB. it is imperative to have
	this installed if you want the shared mode to work.

2002-03-25 Pasupathi Duraisamy <pasupathi.duraisamy@wipro.com>
        
        * Fix to the Bug#76269

2002-03-24  Havoc Pennington  <hp@pobox.com>

	* configure.in: 1.9.2

2002-03-24  Havoc Pennington  <hp@pobox.com>

        Fix issues that resulted in mangled terminal title.
	
	* src/terminal-screen.c
	(terminal_screen_get_title): never fall back to profile name,
	always build a real title
	(reread_profile): rebuild the title earlier in this function
	(rebuild_title): in REPLACE mode, use the initial title 
	if we don't have a raw title yet.

2002-03-24  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: doh, change default profile name back to
	Default, we have a separate title setting. If it's not getting 
	displayed we have other issues.

2002-03-24  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: name the default profile Terminal 
	rather than Default
	
2002-03-23  Havoc Pennington  <hp@pobox.com>

	* gnome-terminal.desktop.in (_Comment): remove 
	word UNIX from desktop.in, not .desktop. #73732

2002-03-18  Josh Barrow  <drleary@mac.com>

	* src/terminal-accels.c:
	* src/terminal-window.c: (terminal_window_init):
	Change string from "Set title" to "Set Title", per the HIG.

2002-03-18  Anders Carlsson  <andersca@gnu.org>

	* src/eel/Makefile.am:
	* src/eel/eel-art-extensions.c:
	* src/eel/eel-art-extensions.h:
	* src/eel/eel-debug.c:
	* src/eel/eel-debug.h:
	* src/eel/eel-glib-extensions.c:
	* src/eel/eel-glib-extensions.h:
	* src/eel/eel-lib-self-check-functions.h:
	* src/eel/eel-pango-extensions.c:
	(eel_pango_layout_fit_to_dimensions),
	(eel_pango_font_description_get_largest_fitting_font_size):
	* src/eel/eel-pango-extensions.h:
	* src/eel/eel-self-checks.c:
	* src/eel/eel-self-checks.h:
	* src/eel/eel-string-list.c:
	* src/eel/eel-string-list.h:
	* src/eel/eel-string.c:
	Reduce number of needed eel files since we don't need the 
	self-check code anymore.
	
2002-03-18  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: make Alt+- Alt++ bindings use 
	Shift as well by default

	* src/terminal-screen.c (terminal_screen_edit_title): increase the
	default	size of the window, and make it resizable

Sun Mar 17 23:18:43 2002  Jonathan Blandford  <jrb@redhat.com>

	* src/gnome-terminal.glade2: make swindow AUTOMATIC, NONE
	* src/eggcellrendererkeys.c: update from CVS.

2002-03-17  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (terminal_app_new_profile): pack labels
	expand/fill = TRUE

2002-03-17  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c: add menu item to set terminal title.
	#74601

	* src/terminal-screen.c (terminal_screen_edit_title):
	function to pop up a dialog to edit the dynamic title

	* src/terminal.c (terminal_app_new_profile): align labels as in
	profile editor
	(set_default_icon): fix error printing

2002-03-17  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c: Hook up icon picker to set terminal icon

	* src/terminal-profile.c (terminal_profile_set_icon_file): allow
	NULL filename which means unset the icon

	* src/terminal-widget-zvt.c (terminal_widget_new): increase
	robustness vs. failure to load fonts

	* src/terminal.c (main): set the default icon, #74600

2002-03-17  Havoc Pennington  <hp@pobox.com>

	* src/simple-x-font-selector.c (egg_xfont_selector_init): don't
	use "b" for mnemonic, already used twice. Translate the bold
	checkbutton. Pack everything in a table so we can align the
	checkbutton with the option menu. Tweak paddings and things.

	* src/gnome-terminal.glade2: fix up a bit to make stuff 
	align well with the fontsel.

	* src/profile-editor.c: add lame hack to put "Profile name"
	label in a size group with one of the labels in the font 
	selector.

2002-03-17  Havoc Pennington  <hp@pobox.com>

	* src/gnome-terminal.glade2: Get rid of pointless Font label
	around font selector, just leave an empty hbox. Packing 
	still needs a bit more help, about to do that.

	* src/simple-x-font-selector.c (update_family_menu): show menu
	items before adding them to option menu, to avoid size request
	screwups.
	(egg_xfont_selector_init): don't put (pixels) after Size, it's
	implied, say "Font name" not "Family"
	(update_size_menu): don't put an asterisk after the bitmap sizes, 
	no one will know what it means anyhow. We should just globally 
	disable scaled bitmaps probably, if we haven't.

2002-03-17  Mark Patton  <mpatton@jhu.edu>

        * src/gnome-terminal.glade2, src/profile-editor.c,
          src/simple-x-font-selector.h:
        Added the font selector to the main preferences tab.

2002-03-17  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_add_screen: when adding a
	new screen, set its size to the size of the current active screen.
	Fixes #71708, at least as long as all your tabs use the same 
	font.

2002-03-16  Havoc Pennington  <hp@pobox.com>

        This doesn't work really, I'm not sure yet where the bug is.
	
	* src/terminal-screen.c (terminal_screen_update_on_realize): also
	set size even if mapped here, so changing fonts puts our size
	back where it should be.

	* src/terminal-window.c (terminal_window_set_menubar_visible): set
	size here so show/hide menubar doesn't break the grid size
	(terminal_window_set_active): resize here even if we're already
	mapped so that adding/removing notebook tabs doesn't break the
	gridded size.

2002-03-13  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: change default accelerators to 
	Ctrl+Shift to avoid conflicting with terminal apps.

2002-03-16  Szabolcs Ban  <shooby@gnome.hu>

	* configure.in: Added "hu" to ALL_LINGUAS.

2002-03-16  Mark Patton  <mpatton@jhu.edu>

	* src/profile-editor.c:
	Set the default font in the font selector to the current font.

2002-03-16  Mark Patton  <mpatton@jhu.edu>

        * src/simple-x-font-selector.c, src/simple-x-font-selector.h:
        Added check button for bold font.
        Minimized the number of changed signals emitted.
        Added missing copyright info.

2002-03-16  Wang Jian  <lark@linux.net.cn>

	* configure.in: Added "zh_CN" to ALL_LINGUAS.

2002-03-13  Havoc Pennington  <hp@pobox.com>

	* src/gnome-terminal.glade2: Move Scrolling onto a separate tab
	to try and unclutter the first tab.

2002-03-13  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (save_yourself_callback): hook up session
	management, #71443

2002-03-13  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: change default font to be a full XLFD
	#74282

2002-03-13  Anders Carlsson  <andersca@gnu.org>

	* src/terminal-widget-vte.c (terminal_widget_set_size): 
	It's vte_terminal_set_size, not vte_terminal_size_set.

	* configure.in:
	* src/Makefile.am:
	Add correct support for --with-widget=vte
	
2002-03-13  Bill Nottingham <notting@redhat.com>

	* src/profile-editor.c: (x_font_clicked):
	Use the filter; it appears to work. Set default
	filter to 'Roman' or 'Other' slants, and
	'medium' and 'regular' weights.

2002-03-12  Josh Barrow  <drleary@mac.com>

	* src/terminal-accels.c:
	* src/terminal-screen.c: (terminal_screen_do_popup):
	* src/terminal-window.c: (terminal_window_init):
	Fixed up more strings to match capitalization in the HIG.

2002-03-12  Josh Barrow  <drleary@mac.com>

	* src/terminal-window.c: (terminal_window_init):
	Changed capitalization of menu items to match spec in the HIG, 
	also, I gave the Help Contents menu item a stock icon.

2002-03-12  Benedikt Roth  <Benedikt.Roth@gmx.net>

	* src/terminal-accels.c: (terminal_edit_keys_dialog_new):
	I18N fix so that the menus will show up translated.

2002-03-12  Benedikt Roth  <Benedikt.Roth@gmx.net>

	* src/terminal-window.c: (about_callback):
	Make translation credits actually translatable.
	Use the gnome-terminal logo.

2002-03-11  Jonathan Blandford  <jrb@redhat.com>

	* src/profterm.schemas: Add a bunch of new keybindings
	* src/terminal-accels.c: (terminal_accels_init),
	(keys_change_notify), (accel_changed_callback), (sync_handler),
	(accel_set_func), (name_compare_func), (accel_compare_func),
	(accel_edited_callback), (terminal_edit_keys_dialog_new): Rewrite
	tree code a lot.  Clean up some.  Add a bunch of new keybindings.
	* src/terminal-accels.h: New keybindings
	* src/terminal-screen.c: (terminal_screen_do_popup): Use keybindings
	* src/terminal-window.c: (terminal_window_init): Use keybindings

2002-03-11  Anders Carlsson  <andersca@gnu.org>

	* src/terminal-widget-vte.c: Fill in some blanks.

2002-03-11  Mark Patton  <mpatton@jhu.edu>

	* src/simple-x-font-selector.c:
	Added missing gtk_widget_show when updating the family menu.

2002-03-10  Havoc Pennington  <hp@pobox.com>

	* src/Makefile.am (gnome_terminal_SOURCES), src/profile-editor.c:
	add Mark Patton's simple-x-font-selector, to give it a try. In a
	dialog for now, to avoid munging the glade file while testing and
	because I'm worried we'll need to add more fields - and I'm not
	sure how to put them in the main dialog without causing a lot of
	clutter.

2002-03-10  Mark Patton  <mpatton@jhu.edu>

	* src/simple-x-font-selector.c, src/simple-x-font-selector.h:
	Added a simplified version of x-font-selector meant to be used
	as a component in a dialog box, not as a separate dialog box.

2002-03-10  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c (terminal_profile_edit): wire up "reset
	compat options to defaults" button and remove "allow wrong encoded
	fonts" checkbutton

2002-03-10  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (profile_activated_callback): double-clicking a
	row edits it, #73807

2002-03-09  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c: clean up "edited_cb" from when the
	keybindings stuff was in here

	* src/terminal-window.c: adapt to abstraction

	* src/profile-editor.c (BYTES_PER_LINE): adapt to abstraction

	* src/terminal-screen.c: use terminal-widget.h abstract interface

	* src/terminal-widget-zvt.c: wall libzvt off in this file, so we
	can easily plug another terminal widget should one become
	finished. Gives us redundancy, in case no one fixes zvt, makes it
	easy to fool with other widgets, and organizes the code more
	nicely anyhow.

2002-03-09  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2002-03-09  Kjartan Maraas  <kmaraas@gnome.org>

	* src/gnome-terminal.glade2: s/menu bar/menubar.

2002-03-09  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (main): init libgnomeui, patch from Johan
	Dahlin. #74022

2002-03-09  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_remove_screen):
	reset_tab_menuitems only after setting the active terminal
	(terminal_window_remove_screen): update the sensitivity of the 
	next/prev tab menu items #73969

	* src/terminal-screen.c (reread_profile): only scroll if the
	background is image, not if it's transparent #73757

2002-03-09  Havoc Pennington  <hp@pobox.com>
	
	* src/profile-editor.c (terminal_profile_edit): set initial value
	of color scheme menu, #73906

	* gnome-terminal.desktop (Comment): change comment to avoid the
	word UNIX, #73732

2002-03-06  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" to the languages list.

2002-03-06  Gediminas Paulauskas <menesis@delfi.lt>

	* configure.in: Added "lt" to ALL_LINGUAS.

2002-03-05  Carlos Perello Marin <carlos@gnome-db.org>

	* configure.in: Added "es" to ALL_LINGUAS.

2002-03-05  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS.

2002-03-04  Havoc Pennington  <hp@pobox.com>

	* src/eel/Makefile.am (INCLUDES): distcheck fix

	* configure.in: 1.9.1

	* src/terminal-window.c (terminal_window_update_geometry): repair
	a comment

2002-03-03  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_do_popup): init menu_item
	before use.

2002-03-03  Havoc Pennington  <hp@pobox.com>

	* src/terminal-accels.c (D): debug spew off

2002-03-03  Havoc Pennington  <hp@pobox.com>

	* src/terminal-accels.c: get rid of attempt to track our own copy
	of gtk keyval/modmask because we don't get notification when 
	a keybinding is removed. Instead, always re-query the GTK values
	when syncing to gconf. Also, avoid setting gconf keys out of gconf
	notifier. Finally, adapt to EggCellRendererKeys changes.

	* src/terminal-screen.c (terminal_screen_do_popup): add missing
	accel paths

	* src/terminal-accels.c: add more accels
	(binding_from_string): support "disabled" value for accelerators
	to mean turned off
	(sync_handler): don't leak accel name, and support 
	"disabled" if the accel is unset.
	(accel_set_func): fix mem leak
	(accel_compare_func): fix mem leak

	* src/terminal-window.c: add more accels
	(terminal_window_init): fix conflicting mnemonic for "new
	profile"/"new window"

2002-03-02  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c: add fullscreen mode, just for kicks

2002-03-02  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_init): add the accel 
	group to the window so accels really work

	* src/gnome-terminal.glade2: make keybindings dialog 
	!visible initially (glade shouldn't be setting toplevels to
	visible...)

	* src/terminal-window.c: make Go menu work with the list 
	of tabs, have accelerators to switch between tabs

2002-03-02  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c: rearrange the menus

	* src/terminal-accels.c (terminal_edit_keys_dialog_new):
	set initial state of "disable mnemonics" checkbutton

	* src/terminal-window.c (terminal_window_init): create a new accel
	group for each window, and the popup menu, to avoid doing things 
	twice.

2002-03-02  Havoc Pennington  <hp@pobox.com>

	* src/terminal-accels.c: wire things up to work, more or less

	* src/Makefile.am: set up to do automated cut-and-paste from
	libegg instead of manual cut-and-paste

2002-03-02  Havoc Pennington  <hp@pobox.com>

        Get keybindings dialog coming onscreen. Now just need to 
	wire up the options in here, and add all the keybindings.

2002-03-02  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (about_callback): fix the weak pointer
	setup
	(terminal_window_init): use GNOME stock menu item for about

	* src/profterm.schemas: added a "new tab" keybinding, trying to 
	get one binding working first
	
	* src/terminal-window.c: monitor gconf for window-related settings
	(initially be "enable/disable mnemonics", currently nothing).
	Set up accel map connections for keybindings.

2002-03-02  Tõivo Leedjärv  <leedjarv@interest.ee>

	* configure.in: Added et to ALL_LINGUAS.

2002-03-01  Pauli Virtanen  <pauli.virtanen@hut.fi>

	* configure.in (ALL_LINGUAS): Added "fi" (Finnish).

2002-02-27  Christian Meyer  <chrisime@gnome.org>

	* configure.in: Added 'da de' to ALL_LINGUAS.

2002-02-27  Gediminas Paulauskas <menesis@delfi.lt>

	* src/terminal-profile.c: change rxvt colors to match those from
	rxvt sources (#72780, by Ryan Lovett <ryan@ocf.berkeley.edu>).

2002-02-26  Havoc Pennington  <hp@pobox.com>

        Deprecation fixes from Deepa Chacko Pillai
	
	* src/x-font-selector.c: undef
	GTK_DISABLE_DEPRECATED/GDK_DISABLE_DEPRECATED in here, too hard to
	fix. Leave G_DISABLE_DEPRECATED though and fix a couple things.

	* src/eggcellrendererkeys.c
	(egg_cell_renderer_keys_start_editing): deprecated fix

	* src/terminal-screen.c (terminal_screen_update_on_realize): cheat 
	and allow deprecated GdkFont in here

	* src/terminal.c (profile_optionmenu_set_selected): fix deprecated
	function use

	* src/profile-editor.c (profile_editor_update_cursor_blink): fix
	deprecated function use

	* src/Makefile.am (INCLUDES): add -DGTK_DISABLE_DEPRECATED
	-DGDK_DISABLE_DEPRECATED -DG_DISABLE_DEPRECATED
	-DGNOME_DISABLE_DEPRECATED
	
2002-02-26  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_init): fix 
	conflicting mnemonics for closewindow/closetab, 
	#72121 from dpasupathi@yahoo.com

2002-02-27  Zbigniew Chyla  <cyba@gnome.pl>

	* .cvsignore: Added gnome-terminal.desktop.

	* src/profterm.glade.h: Removed unused file.

2002-02-25  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c, src/terminal-window.c: Fixes so the
	initial size is correct, #72041 from frb

2002-02-24  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (reread_profile): wire up prefs

	* src/profile-editor.c: wire up remaining prefs, except font

2002-02-24  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: fix type of scroll_background

	* src/terminal-profile.c: swap green and blue in all the default 
	palettes, so things don't look like butt; oops.

2002-02-24  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl (Polish).

2002-02-24  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas, src/terminal-profile.c: add
	remaining prefs that aren't hooked up. (Not yet hooked up, 
	just in the profile object.)

2002-02-24  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c (terminal_profile_edit): remove
	keybindings-related stuff, will now be in a separate window

	* src/profile-editor.c (profile_editor_get_widget): make it a
	fatal error if a glade widget isn't found

	* src/Makefile.am: switch to using native glade2 file. 
	(cross fingers, pray to Damon)

	* src/gnome-terminal.glade2: move Keybindings to a separate
	dialog, since it won't be per-profile.	

2002-02-24  Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.in: Added Malay (ms)to ALL_LINGUAS.
	* po/ms.po: Added Malay Translation.

2002-02-22  jacob berkman  <jacob@ximian.com>

	* Makefile.am (EXTRA_DIST): fix typos, missed removals

2002-02-21  Havoc Pennington  <hp@pobox.com>

	* autogen.sh: check for and run intltoolize

2002-02-21  Havoc Pennington  <hp@pobox.com>

	* autogen.sh: revert change to gnome-common crackola. No
	gnome-common crackola in here. Will investigate intltool issue in
	a sec.

	* Makefile.am: remove icon from here, it was already in
	src/gnome-terminal.png

2002-02-18  Seth Nickell  <snickell@stanford.edu>

	* autogen.sh:

	Use the common GNOME autogen.sh (to make intltool
	work correctly)
	
	* configure.in:

	Use INTLTOOL for merging translations into the
	.desktop file.
	
	* Makefile.am:
	* gnome-terminal.desktop.in:
	* gnome-terminal.png:

	Install a .desktop file and an icon.
	
2002-02-17 John Fleck <jfleck@inkstain.net>

	* help/Makefile.am
	* help/C/Makefile.am
	* help/C/gnome-terminal-C.omf
	* help/C/gnome-terminal.xml
	* help/C/legal.xml
	* omf-install/Makefile.am
	adding help stuff with placeholder help doc (not added
	into the build yet)

2002-02-17  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c: do all the work, except that instead of 
	popping up the fontsel dialog, pop up a message box explaining
	what needs fixing.

	* src/terminal-screen.c (terminal_screen_update_on_realize): load
	font from the profile

	* src/terminal-profile.c: add X font setting

	* src/x-font-selector.h, src/x-font-selector.c:
	copy in Michael's port of 1.2 X font selector to
	GTK 2. This still needs a lot of work. :-/
	http://bugzilla.gnome.org/show_bug.cgi?id=71744
	
2002-02-16  Havoc Pennington  <hp@pobox.com>

	* src/profterm.glade: add missing tooltip to palette 
	entry 8, reword shade-background checkbox, turn off 
	initial visible state for the dialog to avoid jumping

2002-02-16  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c: wire up palette stuff

	* src/profterm.glade: remove bogus <child_name> from notebook 
	widget that caused a libglade warning

	* src/terminal-profile.c (set_visible_name): fix return value
	(set_title): fix return value
	(set_word_chars): fix return value
	(set_custom_command): fix return value
	(set_icon_file): fix return value
	(gconf_string_to_enum): macro to remove const warnings
	(gconf_enum_to_string): macro to remove const warnings

	* src/terminal-profile.h: add palette setting

	* src/terminal-screen.c (update_color_scheme): use color scheme
	from profile instead of hardcoded

2002-02-16  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c: silently accept --use-factory for now so 
	launchers will work

2002-02-16  Havoc Pennington  <hp@pobox.com>

        * src/eel/*: semi-automated cut-and-paste of part of Eel. None of
	the files are modified from the originals; there's a Makefile
	target to update them from the Eel sources.
	
	* src/terminal-window.c (terminal_window_add_screen): set "tab
	label packing" in the notebook so that tabs are EXPAND, so we 
	can have an ellipsizing label with 0 width request
	(terminal_window_add_screen): use EelEllipsizingLabel for the 
	notebook tabs, to avoid ever scrolling, though you can get 
	really small tabs...

2002-02-16  Havoc Pennington  <hp@pobox.com>

        Throughout: destroy concept of "special" default profile, 
	now any profile can be renamed/deleted.
	
	* src/profterm.schemas: s/profterm/gnome-terminal so we get schema 
	defaults

	* src/terminal-profile.c (terminal_profile_new): add profile dir
	to the GConfClient
	(terminal_profile_forget): remove profile dir

	* src/terminal.c (main): only preload prefix/global not prefix/* 
	so that old profile cruft won't slow things down

2002-02-16  Havoc Pennington  <hp@pobox.com>

	* src/terminal-profile.c (terminal_profile_delete_list): remove
	debug spew

	* src/terminal.c: implement "manage profiles" dialog

	* src/terminal-window.c: add "manage profiles" menu item

2002-02-16  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_do_popup): never remove
	Open/Copy Link items, just make them insensitive

2002-02-16  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c: add and use --geometry option. You need 
	very latest GTK for this to work since I just fixed 
	gtk_window_parse_geometry().

	* src/terminal-window.c (set_size): only set default size here, 
	so we can parse_geometry later and have it work; but I don't 
	really understand why gtk_window_resize() was used before, so this
	might hose something.

2002-02-15  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_update_on_realize): fix 
	#71505 from frb, had set_fonts() backward so allow_bold setting 
	was reversed

2002-02-15  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (main): make option parsing accept exactly the
	same --command/-e/--execute/-x options as gnome-terminal and
	handle them the same way.
	(terminal_app_get_clone_command): record the --command or
	--execute argv for each tab in the session

	* src/terminal-screen.c (get_child_command): use override command
	if any
	(terminal_screen_set_override_command): allow setting an override
	command

2002-02-14  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (secure_keyboard_callback): disable the
	secure keyboard thing, until someone gives a compelling
	justification for this feature.
	(terminal_screen_do_popup): add copy/paste and copyurl/openurl 
	to the popup menu
	(terminal_screen_init): add match regexps for URLs
	(terminal_screen_button_press_event): control-click to open 
	a URL

Thu Feb 14 15:53:42 2002  Owen Taylor  <otaylor@redhat.com>

	* src/terminal-screen.c (reread_profile): For now, just hardwire
	the backspace and delete keys correctly * Needs to be wired up for
	people that expect brokenness later. 

2002-02-13  Christophe Merlet  <redfox@eikonex.org>

	* configure.in: Added "fr" to ALL_LINGUAS.

2002-02-13  Laszlo Peter  <laca@ireland.sun.com>

	* src/terminal-window.c: add a dummy entry to the signal enum so
          the signals array is not empty. (breaks the build with Forte C)

2002-02-12  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2002-02-12  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (about_callback): don't mark empty string 
	for translation, reported by Christian Rose, and some formatting
	cleanups

	* Makefile.am, configure.in: put po subdir back in, since we
	have some translations

2002-02-12  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "no" to ALL_LINGUAS.
	
2002-02-10  Havoc Pennington  <hp@pobox.com>

	* src/Makefile.am: EXTRA_DIST the icon

	* configure.in, Makefile.am: temporarily remove gettext stuff
	since it annoyingly doesn't work unless you have at least one 
	po file

	* src/Makefile.am (bin_PROGRAMS): rename binary to gnome-terminal

Sun Feb 10 16:36:22 2002  Jonathan Blandford  <jrb@redhat.com>

	* src/eggcellrendererkeys.c: New cell renderer.  Displays key
	bindings.

	* src/profile-editor.c (terminal_profile_edit): add simple test
	list for new Cell renderer.  I'll let hp hook it up to something
	useful.

2002-02-10  Havoc Pennington  <hp@pobox.com>

	* configure.in: change name to gnome-terminal version 
	1.9.

	Throughout: rename various profterm things to gnome-terminal

2002-02-09  Havoc Pennington  <hp@pobox.com>

	* src/terminal.c (main): call gnome_program_init()

	* src/Makefile.am (INCLUDES): define assorted gunge for
	gnome_program_init()

	* src/terminal-window.c, src/terminal-screen.c: implement icon
	preference

	* src/terminal-profile.c: add an icon preference

	* src/Makefile.am (icon_DATA): install an icon

2002-02-08  Havoc Pennington  <hp@redhat.com>

	* src/profile-editor.c (profile_editor_destroyed): disconnect
	signal handlers on the profile that had the editor as user data, 
	to avoid crash.

2002-02-08  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_add_screen): update
	scrollbar after the show all so that disabled scrollbars don't
	appear when you first open a tab/window.

2002-02-08  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_button_press_event): also
	grab focus on button 2 click

	* src/terminal-window.c (terminal_window_set_active): grab focus
	on terminal screens when we make them active

2002-01-26  Josh Barrow  <drleary@mac.com>

	* src/terminal-window.c: (about_callback):
	Added an about box.

2002-01-25  Havoc Pennington  <hp@pobox.com>

	* src/terminal-window.c (terminal_window_set_active): fix that
	annoying get-larger-on-each-tab-switch thing

2002-01-24  Havoc Pennington  <hp@pobox.com>

	* src/profterm.schemas: add exit_action, login_shell,
	update_records, use_custom_command, custom_command

	* src/profile-editor.c: edit them here

	* src/terminal-screen.c: implement them here

	* src/terminal-profile.c: add new prefs here
	
2002-01-23  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c: improve BYTES_PER_LINE estimate

2002-01-22  Havoc Pennington  <hp@redhat.com>

	* src/terminal-profile.c (terminal_profile_init): always have a
	non-NULL string for word chars

2002-01-22  Anders Carlsson  <andersca@gnu.org>

	* src/terminal.c (create_profile_list): Select first row.
	(terminal_app_delete_profiles): Set scrolled window shadow type.

2002-01-22  Havoc Pennington  <hp@pobox.com>
	
	* src/profterm.schemas: schemas for allow_bold, silent_bell,
	word_chars, scrollbar_position, scrollback_lines,
	scroll_on_keystroke, scroll_on_output
	
	* src/profile-editor.c: edit them here

	* src/terminal-screen.c: implement them here

	* src/terminal-profile.c: add new prefs here

2002-01-21  Havoc Pennington  <hp@pobox.com>

	* src/terminal-profile.c, src/terminal-profile.h, 
	src/terminal-screen.c, src/profile-editor.c: 
	implement the title and title mode preferences

	* src/terminal-window.c (terminal_window_set_active): be sure
	terminal is realized

	* src/terminal-screen.c (terminal_screen_init): disable Zvt's
	auto-window-hint thingy

2002-01-20  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c, src/terminal-profile.[hc]:
	fore/background color preference
	(profile_changed): do the thing where we update prefs
	dialog when gconf keys change, jrb was right it's needed
	for the case where widgets in the dialog interact

	* src/profterm.schemas: add foreground/background color

Fri Jan 18 20:40:05 2002  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Save value of ACLOCAL_FLAGS.

2002-01-17  Havoc Pennington  <hp@pobox.com>

	* more work on prefs

2002-01-16  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c (terminal_profile_edit): load the glade
	file. do nothing useful to it.

2002-01-16  Havoc Pennington  <hp@pobox.com>

	* configure.in: fixes

	* autogen.sh: get rid of horrible "autogen subdirs" feature and 
	fix to use glib-gettextize

2002-01-16  Havoc Pennington  <hp@pobox.com>

	* src/profile-editor.c: new file to hold profile editor using 
	glade and stuff

	* src/profterm.glade: glade file

	* src/terminal-intl.h: consolidate intl stuff

2001-12-12  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (reread_profile): redo title if 
	we switch profiles since title contains profile name.

	* src/terminal-window.c (paste_callback): implement
	(copy_callback): implement

	* src/terminal-screen.c (terminal_screen_button_press_event):
	focus terminal when it's clicked, so you can get out of the
	I-focused-a-notebook-tab state

	* src/terminal-window.c (terminal_window_remove_screen): close
	window if no more terminals
	(terminal_window_init): put the notebook in scroll-arrow mode.

	* src/terminal-screen.c: hook up to child_died and handle that

2001-12-11  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_zvt_title_changed):
	handle title changes

2001-12-11  Havoc Pennington  <hp@pobox.com>

	* src/terminal-screen.c (terminal_screen_popup_menu_mouse): return
	a sane value, so we don't disable selecting text.

2001-12-07  Havoc Pennington  <hp@pobox.com>

	* Initial import; not good for much.

